<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guild War Teams - Obsidian Gaming 7k</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Global Navigation Menu -->
    <nav class="global-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <h1 class="nav-title">7K RE:BIRTH OBSIDIAN INFO DUMP</h1>
            </div>
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
                â˜°
            </button>
            <div class="nav-links" id="nav-links">
                <a href="wish-list.html" class="nav-link nav-link-external">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                    <span>Wish List</span>
                </a>
                <a href="speed-gearing.html" class="nav-link nav-link-external">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    <span>Speed Gearing Guide</span>
                    <span class="wip-badge-small">WIP</span>
                </a>
                <a href="index.html" class="nav-link nav-link-external" data-view="grid">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    <span>Hero Database</span>
                </a>
                <a href="guild-war-teams.html" class="nav-link nav-link-external active">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5"></path>
                        <path d="M2 12l10 5 10-5"></path>
                    </svg>
                    <span>Guild War Teams</span>
                </a>
                <a href="index.html#advent" class="nav-link nav-link-external" data-view="advent">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    <span>Advent Teams</span>
                    <span class="wip-badge-small">WIP</span>
                </a>
                <a href="index.html#teams" class="nav-link nav-link-external" data-view="teambuilder">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14M5 12h14"/>
                    </svg>
                    <span>Team Builder</span>
                    <span class="new-badge">New</span>
                </a>
            </div>
        </div>
    </nav>

    <div id="app">
        <div class="page-content">
            <div class="page-header">
                <h1 class="page-title">Guild War Teams</h1>
                <p class="page-subtitle">Viable 3-hero team compositions for Guild War</p>
            </div>

            <div class="advent-bosses-container" id="guild-war-teams-container">
                <!-- Team cards will be dynamically generated here -->
            </div>
        </div>
    </div>

    <script type="module">
        import { populateGuildWarTeams } from './js/guild-war-teams.js';
        import { setHeroData } from './js/state.js';
        import { loadHeroData } from './js/data-loader.js';

        // Initialize the page
        async function init() {
            try {
                // Load hero data first (needed for type colors)
                const data = await loadHeroData();
                setHeroData(data);

                // Populate guild war teams
                await populateGuildWarTeams();
            } catch (error) {
                console.error('Error initializing guild war teams page:', error);
            }
        }

        // Run initialization when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', () => {
            const menuToggle = document.getElementById('mobile-menu-toggle');
            const navLinks = document.getElementById('nav-links');

            if (menuToggle && navLinks) {
                menuToggle.addEventListener('click', () => {
                    navLinks.classList.toggle('show');
                });

                // Close menu when clicking a link
                navLinks.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', () => {
                        navLinks.classList.remove('show');
                    });
                });

                // Close menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (!menuToggle.contains(e.target) && !navLinks.contains(e.target)) {
                        navLinks.classList.remove('show');
                    }
                });
            }
        });
    </script>
</body>
</html>
